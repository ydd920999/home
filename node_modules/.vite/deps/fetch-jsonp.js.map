{
  "version": 3,
  "sources": ["../../.pnpm/registry.npmmirror.com+fetch-jsonp@1.3.0/node_modules/fetch-jsonp/build/fetch-jsonp.js"],
  "sourcesContent": ["(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    if (script) {\n      document.getElementsByTagName('head')[0].removeChild(script);\n    }\n  }\n\n  function fetchJsonp(_url) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    // to avoid param reassign\n    var url = _url;\n    var timeout = options.timeout || defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n      var scriptId = jsonpCallback + '_' + callbackFunction;\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(scriptId);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);\n      if (options.charset) {\n        jsonpScript.setAttribute('charset', options.charset);\n      }\n      if (options.nonce) {\n        jsonpScript.setAttribute('nonce', options.nonce);\n      }\n      if (options.referrerPolicy) {\n        jsonpScript.setAttribute('referrerPolicy', options.referrerPolicy);\n      }\n      if (options.crossorigin) {\n        jsonpScript.setAttribute('crossorigin', 'true');\n      }\n      jsonpScript.id = scriptId;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + _url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        window[callbackFunction] = function () {\n          clearFunction(callbackFunction);\n        };\n      }, timeout);\n\n      // Caught if got 404/500\n      jsonpScript.onerror = function () {\n        reject(new Error('JSONP request to ' + _url + ' failed'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    });\n  }\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});"],
  "mappings": "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",
  "names": ["exports", "module"]
}
